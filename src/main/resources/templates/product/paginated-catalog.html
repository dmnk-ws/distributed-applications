<!DOCTYPE html>

<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html;" charset="UTF-8">
        <title>dist-app</title>
        <link rel="stylesheet" type="text/css" href="/css/reset.css">
        <link rel="stylesheet" type="text/css" href="/css/styles.css">
        <link rel="stylesheet" type="text/css" href="/css/nav.css">
        <script type="module" src="/js/product/delete.js"></script>
        <script type="module" src="/js/product/filter.js"></script>
        <style>
            #delete button {
                border-color: red;
            }

            #delete button:hover {
                background: red none;
                color: white;
            }

            .filter {
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

            .select {
                display: flex;
                flex-direction: column;
                margin-left: 10px;
                font-size: 16px;
                gap: 5px;
            }

            .actions {
                margin: 0 45px 0 45px;
            }
        </style>
    </head>
    <body>
        <header th:replace="fragments/header :: header"></header>
        <main class="container">
            <h1 th:text="'Browse our ' + ${total} + ' products'">Browse our products</h1>
            <div class="flex">
                <a class="button" href="/create/product-js.html">Create product</a>
            </div>
            <div style="overflow-x:auto;" class="card">
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Price</th>
                            <th>Size</th>
                            <th class="filter">
                                <span>Color</span>
                                <div class="select">
                                    <label for="color-filter">Filter</label>
                                    <select id="color-filter">
                                        <option value="all">All</option>
                                        <option value="black">Black</option>
                                        <option value="blue">Blue</option>
                                        <option value="red">Red</option>
                                    </select>
                                </div>
                            </th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="product : ${products}">
                            <td th:text="${product.name}"></td>
                            <td th:text="${product.price}"></td>
                            <td th:text="${product.size}"></td>
                            <td th:text="${product.color}"></td>
                            <td class="flex">
                                <a class="button" th:href="'/mvc/product/' + ${product.id}">View details</a>
                                <div id="delete" th:if="${edit}">
                                    <input type="hidden" th:id="'id-' + ${product.id}" th:value="${product.id}">
                                    <button th:id="'delete-' + ${product.id}" class="button">Delete</button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="actions">
                <a class="button" style="float: left" th:if="${page} > 0" th:href="'/mvc/products/paginated?page=' + ${page - 1}">Prev</a>
                <a class="button" style="float: right" th:if="${page} < ${totalPages - 1}" th:href="'/mvc/products/paginated?page=' + ${page + 1}">Next</a>
            </div>
        </main>
    </body>
</html>